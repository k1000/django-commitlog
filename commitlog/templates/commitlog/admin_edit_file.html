{% extends "admin/base_site.html" %}{% load commit_tags %}

{% block content %}
<link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}CodeMirror-2.12/lib/codemirror.css" /> 

<link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}css/theme_dark.css" />
<h1>Commit to "{{path}}" at branch "<a href="{% url commitlog-branch branch_name %}">{{ branch_name }}</a>"</h1>
<h3>{% if result_msg %}
	{{ result_msg }}
{% endif %}</h3>
{{ breadcrumbs }}
<h2>{{ path }}</H2>
<form action="" method="post">
	<ul>
	{{ form.as_p }}
	</ul>
	{% csrf_token %}
	<p><button>COMMIT</button></p>
</form>


<script type="text/javascript" src="{{ STATIC_URL }}CodeMirror-2.12/lib/codemirror.js"></script>
<script type="text/javascript" src="{{ STATIC_URL }}CodeMirror-2.12/lib/runmode.js"></script>
<script type="text/javascript" src="{{ STATIC_URL }}CodeMirror-2.12/lib/overlay.js"></script>
<script type="text/javascript" src="{{ STATIC_URL }}CodeMirror-2.12/mode/python/python.js"></script>
<script type="text/javascript" src="{{ STATIC_URL }}CodeMirror-2.12/python-complete.js"></script>
<script type="text/javascript" src="{{ STATIC_URL }}js/zen_textarea.min.js"></script>
<script> 
/*
var editor = CodeMirror.fromTextArea(document.getElementById("id_file_source"), {
  mode: {name: "python",
               version: 2,
               singleLineStringErrors: false},
  lineNumbers: true,
  indentUnit: 4,
  onCursorActivity: function() {
    editor.setLineClass(hlLine, null);
    hlLine = editor.setLineClass(editor.getCursor().line, "activeline");
  }
});
var hlLine = editor.setLineClass(0, "activeline");
*/
zen_textarea.setup({pretty_break: true})
</script> 
{% endblock %}